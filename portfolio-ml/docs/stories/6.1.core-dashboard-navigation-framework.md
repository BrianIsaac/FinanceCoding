# <!-- Powered by BMAD™ Core -->

# Story 6.1: Core Dashboard and Navigation Framework

## Status
Draft

## Story
**As a** portfolio manager,
**I want** a professional, intuitive dashboard with clear navigation,
**so that** I can quickly access all portfolio management functions and get an immediate overview of my investments.

## Acceptance Criteria

1. **Main Dashboard Layout**: Clean, professional interface with portfolio overview, key metrics, and navigation sidebar
2. **Navigation System**: Intuitive menu structure allowing easy access to all platform features
3. **Portfolio Overview Cards**: Summary cards showing total AUM, YTD returns, risk metrics, and AI strategy status
4. **Real-Time Updates**: Dashboard refreshes automatically with latest portfolio data and market information
5. **Responsive Design**: Interface works seamlessly on desktop, tablet, and mobile devices
6. **Performance Metrics**: Dashboard loads in <3 seconds with smooth navigation between sections

## Tasks / Subtasks

- [ ] Task 1: Streamlit Application Foundation (AC: 1, 2)
  - [ ] Subtask 1.1: Set up Streamlit application structure with professional styling
  - [ ] Subtask 1.2: Create sidebar navigation with icons and clear section labels
  - [ ] Subtask 1.3: Implement page routing system for different dashboard sections
  - [ ] Subtask 1.4: Add custom CSS for professional financial platform appearance
  
- [ ] Task 2: Portfolio Overview Dashboard (AC: 1, 3)
  - [ ] Subtask 2.1: Create portfolio summary cards with key metrics display
  - [ ] Subtask 2.2: Implement portfolio value calculation and P&L tracking
  - [ ] Subtask 2.3: Add AI strategy status indicators (Active/Training/Monitoring)
  - [ ] Subtask 2.4: Build top holdings preview with sector allocation visualization
  
- [ ] Task 3: Real-Time Data Integration (AC: 4)
  - [ ] Subtask 3.1: Implement file-based data loading from existing portfolio results
  - [ ] Subtask 3.2: Create automatic refresh mechanism for dashboard updates
  - [ ] Subtask 3.3: Add data freshness indicators and last update timestamps
  - [ ] Subtask 3.4: Build error handling for missing or corrupted data files
  
- [ ] Task 4: Responsive Design and Performance (AC: 5, 6)
  - [ ] Subtask 4.1: Implement responsive grid layout for different screen sizes
  - [ ] Subtask 4.2: Optimize dashboard loading performance with lazy loading
  - [ ] Subtask 4.3: Add loading states and progress indicators for data operations
  - [ ] Subtask 4.4: Test cross-device compatibility and optimize mobile experience

## Dev Notes

### Integration with Existing Codebase

**Leverage Existing Visualization Infrastructure:**
- **Interactive Dashboard Class**: Use `src/evaluation/reporting/interactive.py` as foundation for dashboard components
- **Performance Analytics**: Integrate `src/evaluation/reporting/tables.py` for metrics calculation
- **Existing Plotly Charts**: Reuse charts from `src/evaluation/reporting/charts.py` for portfolio visualization
- **Configuration System**: Utilize existing `configs/` YAML structure for dashboard settings

**File-Based Data Sources:**
- **Portfolio Data**: Load from `results/latest_portfolio_weights.csv` and `results/*_results.json`
- **Model Status**: Check `models/` directory for trained model availability
- **Configuration**: Read from `configs/evaluation/dashboard_config.yaml` for customization
- **Performance Data**: Use existing Parquet files in `data/final_new_pipeline/` for calculations

### Technical Architecture

**Application Structure:**
```
frontend/
├── app.py                      # Main Streamlit application
├── components/
│   ├── dashboard.py           # Main dashboard layout
│   ├── navigation.py          # Sidebar navigation component
│   ├── portfolio_cards.py     # Portfolio summary cards
│   └── utils.py              # Utility functions
├── styles/
│   ├── main.css              # Custom CSS styling
│   └── components.css        # Component-specific styles
└── config/
    └── ui_config.yaml        # UI configuration settings
```

**Data Flow Integration:**
```
File System Sources → Data Loaders → Dashboard Components → Streamlit UI

Portfolio Files (JSON/CSV) → portfolio_loader.py → Portfolio Cards
Model Checkpoints (.pt) → model_status.py → AI Status Indicators  
Performance Data (Parquet) → metrics_calculator.py → Summary Metrics
Configuration (YAML) → config_loader.py → UI Customization
```

**Professional Styling Requirements:**
- **Color Scheme**: Professional financial platform colors (navy, white, green accents)
- **Typography**: Clean, readable fonts suitable for financial data display
- **Layout**: Grid-based layout with clear visual hierarchy
- **Branding**: Subtle branding elements consistent with QuantEdge AI concept
- **Accessibility**: WCAG 2.1 AA compliance for professional use

### Integration Points with Epic Stories

**Foundation for Future Stories:**
- **Navigation Framework**: Will support strategy selection (Story 6.2) and monitoring (Story 6.3)
- **Data Loading Architecture**: Extensible for backtesting interface (Story 6.5)
- **Component System**: Reusable for AI insights (Story 6.4) and reporting (Story 6.6)
- **Performance Framework**: Baseline for real-time updates in subsequent stories

**Configuration Dependencies:**
- Dashboard layout settings from `configs/evaluation/dashboard_config.yaml`
- UI customization from new `frontend/config/ui_config.yaml`
- Integration with existing visualization configurations

## Testing

### Testing Strategy

**Unit Tests:**
- Component rendering tests for dashboard elements
- Data loading function tests with mock data
- Navigation functionality tests
- CSS/styling regression tests

**Integration Tests:**
- End-to-end dashboard loading with real data files
- Cross-component communication testing
- Performance benchmarking for load times
- Mobile responsiveness testing

**User Experience Tests:**
- Navigation flow testing for common user journeys
- Dashboard usability testing with target user personas
- Accessibility compliance testing
- Cross-browser compatibility testing

**Test File Structure:**
```
tests/frontend/
├── unit/
│   ├── test_dashboard_components.py
│   ├── test_navigation.py
│   └── test_data_loaders.py
├── integration/
│   ├── test_dashboard_flow.py
│   └── test_performance.py
└── ui/
    ├── test_responsiveness.py
    └── test_accessibility.py
```

### Performance Benchmarks

**Loading Performance:**
- Initial dashboard load: <3 seconds
- Navigation between sections: <1 second
- Data refresh operations: <2 seconds
- Mobile optimization: <5 seconds on 3G

**Memory Usage:**
- Streamlit app memory footprint: <500MB
- Concurrent user support: 10+ users on single instance
- File I/O optimization for large portfolio datasets

## Change Log

| Date | Version | Description | Author |
|------|---------|-------------|---------|
| 2024-12-14 | 1.0 | Initial story creation for core dashboard framework | James (Full Stack Developer) |

## Dev Agent Record

### Agent Model Used
[To be filled during implementation]

### Completion Notes
[To be filled during implementation]

### File List
[To be filled during implementation]

### Change Log
[To be filled during implementation]

### Debug Log References
[To be filled during implementation]